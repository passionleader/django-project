<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<title>Ajax Request</title>
	<script>
		function sendRequest(bid) {
			var httpRequest = new XMLHttpRequest();
			httpRequest.onreadystatechange = function() {
				if (httpRequest.readyState == XMLHttpRequest.DONE && httpRequest.status == 200 ) {
					console.log(httpRequest.responseText);
					var json_data = JSON.parse(httpRequest.responseText);

					// 문자열로도 할 수 있지만 비추천, 이렇게 JSON 을? ? 빼낸다 ??하는 것을 추천함
					if(json_data['message'] == 'ok') {
						console.log('test')
					}
				}
			};
			// GET 방식으로 요청을 보내면서 데이터를 동시에 전달함.
			httpRequest.open("GET", "ex03/func1", true);
			httpRequest.send();
		}
	</script>
</head>

<body>

	<h1>GET 방식의 요청</h1>
	< type="button" onclick="sendRequest({{post.id}} this)">☆</div>
	<p id="text"></p>

</body>

</html>